# Домашнее задание к занятию "5.3. Введение. Экосистема. Архитектура. Жизненный цикл Docker контейнера"

## Задача 1
### Сценарий выполения задачи:

- создайте свой репозиторий на https://hub.docker.com;
- выберете любой образ, который содержит веб-сервер Nginx;
- создайте свой fork образа;
- реализуйте функциональность: запуск веб-сервера в фоне с - индекс-страницей, содержащей HTML-код ниже:

Dockerfile
```docker
FROM nginx:1.21.6-alpine
COPY ./index.html /usr/share/nginx/html
```

index.html
```html
<html>
<head>
Hey, Netology
</head>
<body>
<h1>I’m DevOps Engineer!</h1>
</body>
</html>
```

```docker
docker build -t dijer/netology-nginx .
docker run -p 8081:80 dijer/netology-nginx
docker push dijer/netology-nginx
```

https://hub.docker.com/r/dijer/netology-nginx

## Задача 2

Посмотрите на сценарий ниже и ответьте на вопрос:
"Подходит ли в этом сценарии использование Docker контейнеров или лучше подойдет виртуальная машина, физическая машина? Может быть возможны разные варианты?"

Детально опишите и обоснуйте свой выбор.

--

Сценарий:

- Высоконагруженное монолитное java веб-приложение;
  - физ машина. под jvm нужно выделять ресурсы, но в монолите это сложно подсчитать + смысла нет в виртуалку / docker монолит, если приложение не будет общаться с другими сервисами.
- Nodejs веб-приложение;
  - docker - для микросервисов и веб-приложений, можно прокинуть порт для работы с хоста
- Мобильное приложение c версиями для Android и iOS;
  - виртуалка с определенной ос для тестирования andoid / ios
- Шина данных на базе Apache Kafka;
  - docker - не нужно устанавливать вручную, работа через апи
- Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;
  - docker, т.к. можно настроить работу между приложениями
- Мониторинг-стек на базе Prometheus и Grafana;
  - docker для быстрого развертывания мониторинга
- MongoDB, как основное хранилище данных для java-приложения;
  - виртуалка, изоляция, встроенная автоматизация и лучшие операционные практики
- Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.
  - docker, легкая настройка конфигурации

## Задача 3

- Запустите первый контейнер из образа ***centos*** c любым тэгом в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;
- Запустите второй контейнер из образа ***debian*** в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;
- Подключитесь к первому контейнеру с помощью ```docker exec``` и создайте текстовый файл любого содержания в ```/data```;
- Добавьте еще один файл в папку ```/data``` на хостовой машине;
- Подключитесь во второй контейнер и отобразите листинг и содержание файлов в ```/data``` контейнера.

```
docker pull centos:7
docker pull debian:latest
docker run -v /data:/data --name test_debian debian:latest
docker run -v /data:/data --name test_centos centos:7
docker exec -it test_debian bash
touch /data/centos_file
^D
touch /data/host_file
docker exec -it test_debian bash
^D
ls /data
centos_file  host_file
```
